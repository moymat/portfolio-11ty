(()=>{var f=e=>e?(e-e%window.innerHeight)/window.innerHeight:0,y=(e,o)=>(o+1)*e.offsetHeight,d=()=>window.innerHeight*3,S=e=>+window.getComputedStyle(e,null).getPropertyValue("width").replace("px","");var x=document.querySelectorAll("section"),A=document.querySelector(".scroll-container"),H=document.querySelector(".scroll-bar"),E=document.querySelectorAll(".scroll-icon"),u=document.querySelector(".menu"),P=document.querySelectorAll(".menu-link"),q=document.querySelector(".illustrations"),L=document.querySelector(".slider"),M=document.querySelectorAll(".icon-wrapper"),$=document.querySelectorAll(".icon"),T=document.querySelectorAll(".profile-title"),C=document.querySelectorAll(".text-wrapper"),p=["home","profile","projects","contact"],t=0,g=0,v=null,w=!1,m=0,I=e=>{let o=e.currentTarget.id.replace("-menu",""),n=p.findIndex(r=>r===o),i=`${o}-icon`;Array.from($).forEach(r=>{r.classList.contains(i)&&(L.style.top=`${-u.offsetHeight*n}px`)})},Y=()=>{L.style.top=0},k=e=>{if(e.deltaX)return;clearTimeout(v);let o=d();if(t<=0&&e.deltaY<0||e.target.classList.contains("scrollable")||t>=o&&e.deltaY>0||w)return;let n=e.deltaY>0?150:-150;t+=n;let i=t%window.innerHeight,r=Math.abs(n/200),c=n>0&&i>window.innerHeight/3,s=n<0&&window.innerHeight-i>window.innerHeight/3;c||s?(c?t+=window.innerHeight-i:s&&(t-=i),w=!0,setTimeout(()=>{w=!1},400)):v=setTimeout(()=>{t=n>0?t-i:t+window.innerHeight-i,a(r*.8),l(r*.8)},r*500),t>o?t=o:t<0&&(t=0),a(r),l(r)},D=e=>{m=e.changedTouches[0].clientY},N=e=>{t+=e.changedTouches[0].clientY-m>0?10:-10,t>d()&&(t=d()),t<0&&(t=0);let n=0;a(n),l(n)},W=e=>{m=0;let i=t%window.innerHeight>window.innerHeight*.5?Math.ceil(t/window.innerHeight):Math.floor(t/window.innerHeight);t=window.innerHeight*i;let r=.8;a(r),l(r)},b=e=>{let o=e.target.parentNode.parentNode.id.replace("-menu",""),n=p.findIndex(s=>s===o),i=n*window.innerHeight,r=Math.abs(n-f(t)),c=.4+r*.2;t=i,a(c),l(c)},h=()=>{let e=Array.from(E);g=Math.floor(t/window.innerHeight),e.forEach((o,n)=>{o.classList.toggle("active",n===g)})},l=e=>Array.from(x).forEach((o,n)=>{let i=y(o,n)-t;i<0&&(i=0),o.style.top=`${i}px`,o.style.transition=`top ${e}s ease-in-out`}),a=e=>{let o=S(A),n=t/d()*o;n>o&&(n=o);let i=n/o*100;H.style.width=`${i}%`,H.style.transitionDuration=`${e}s`,h()},B=()=>{h(),Array.from(E).forEach((e,o)=>{let n=e.classList[1].replace("-icon",""),i=p.findIndex(c=>c===n),r=i*window.innerHeight;e.addEventListener("click",()=>{let s=(Math.abs(i-f(t))+1)/3;t=r,h(),a(s),l(s)})})},G=()=>{Array.from(T).forEach(o=>{o.addEventListener("click",n=>{T.forEach(r=>r.classList.remove("active")),o.classList.add("active"),Array.from(C).forEach(r=>{r.classList.remove("active")}),document.querySelector(`.${Array.from(n.currentTarget.classList)[1].replace("title","text")}`).parentElement.classList.add("active")})})},R=()=>{t=g*window.innerHeight,h(),a(.5),l(.5)},z=()=>{window.scrollTo(0,0),t=0,Array.from(P).forEach(e=>{e.addEventListener("mouseenter",I)}),u.addEventListener("mouseleave",Y),u.addEventListener("click",b),q.style.height=`${u.offsetHeight}px`,Array.from(M).forEach(e=>{e.style.height=`${u.offsetHeight}px`}),document.addEventListener("wheel",k),document.addEventListener("touchstart",D),document.addEventListener("touchmove",N),document.addEventListener("touchend",W),B(),G(),window.addEventListener("resize",R)};z();})();
